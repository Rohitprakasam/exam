11. INSURANCE DATABASE
Tables
Copy code
Sql
CREATE TABLE PERSON(driver_id NUMBER PRIMARY KEY, name VARCHAR2(30), address VARCHAR2(50));
CREATE TABLE CAR(regno VARCHAR2(10) PRIMARY KEY, model VARCHAR2(20), year NUMBER);
CREATE TABLE ACCIDENT(report_number NUMBER PRIMARY KEY, accd_date DATE, location VARCHAR2(30));
CREATE TABLE OWNS(driver_id NUMBER REFERENCES PERSON(driver_id), regno VARCHAR2(10) REFERENCES CAR(regno));
CREATE TABLE PARTICIPATED(driver_id NUMBER, regno VARCHAR2(10), report_number NUMBER, damage_amount NUMBER);

b) Update damage
Copy code
Sql
UPDATE PARTICIPATED
SET damage_amount=5000
WHERE regno='TN10' AND report_number=1025;

c) Add accident
Copy code
Sql
INSERT INTO ACCIDENT VALUES (2001,SYSDATE,'Chennai');

d) People in accidents 2018
Copy code
Sql
SELECT COUNT(DISTINCT driver_id)
FROM PARTICIPATED p JOIN ACCIDENT a
ON p.report_number=a.report_number
WHERE TO_CHAR(accd_date,'YYYY')='2018';

e) Wagon R accidents
Copy code
Sql
SELECT COUNT(*) FROM PARTICIPATED p JOIN CAR c
ON p.regno=c.regno
WHERE model='Wagon R';